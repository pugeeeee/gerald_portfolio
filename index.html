<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Colorful Portfolio • Particle Constellation</title>
  <!-- Use a clean modern font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg1: #0f1020;
      --bg2: #1a1b3a;
      --acc1: #7c3aed;
      --acc2: #06b6d4;
      --acc3: #f59e0b;
      --acc4: #22c55e;
      --text: #e5e7eb;
      --muted: #a5b4fc;
      --card: #0b1220cc;
      --shadow: 0 12px 36px rgba(0, 0, 0, .45);
      --gap: 24px;
    }

    .avatar-wrapper {
      position: relative;
      width: 340px;
      height: 340px;
      overflow: hidden;
      animation: baluga 5s ease-in-out infinite;
      background: linear-gradient(135deg, #0a2a6c, #021230, #050b16);
      margin: auto;
    }

    /* Desktop scale up */
    @media (min-width: 1024px) {
      .avatar-wrapper {
        transform: scale(1.3);
        /* ⬅ makes it 1.2× bigger */
      }
    }

    /* Image inside */
    .avatar-wrapper img {
      width: 100%;
      height: 143%;

      display: block;
      margin: auto;
      transform: translateY(5px);
      /* ⬅ move image 20px down */
    }


    /* Blob border animation */
    @keyframes baluga {
      0% {
        border-radius: 17% 83% 25% 75% / 64% 13% 87% 36%;
      }

      25% {
        border-radius: 36% 64% 47% 53% / 51% 26% 74% 49%;
      }

      50% {
        border-radius: 53% 47% 66% 34% / 35% 57% 43% 65%;
      }

      75% {
        border-radius: 82% 18% 88% 12% / 15% 81% 19% 85%;
      }

      100% {
        border-radius: 17% 83% 25% 75% / 64% 13% 87% 36%;
        /* same as start */
      }
    }







    /* Reset + base */
    * {
      box-sizing: border-box
    }

    html,
    body {
      height: 100%
    }

    body {
      margin: 0;
      font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: var(--text);
      background: radial-gradient(1200px 800px at 20% 10%, #1e1f4b 0%, transparent 60%),
        radial-gradient(1000px 700px at 80% 0%, #112748 0%, transparent 60%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
      overflow-x: hidden;
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* canvas behind everything */
    #constellation {
      position: fixed;
      inset: 0;
      z-index: -1;
      display: block;
    }

    /* NAV */
    .nav {
      position: fixed;
      width: 100vw;
      top: 0;
      z-index: 50;
      backdrop-filter: saturate(140%) blur(8px);
      background: linear-gradient(to right, #0b0d1fcc, #09122acc);
      border-bottom: 1px solid #ffffff14;
    }

    .nav-inner {
      max-width: 1200px;
      margin: auto;
      padding: 14px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .brand {
      font-weight: 800;
      letter-spacing: .6px;
      background: linear-gradient(90deg, var(--acc2), var(--acc1), var(--acc3));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-size: 1.1rem
    }

    .menu {
      display: flex;
      gap: 18px;
      align-items: center;
    }

    .menu a {
      color: var(--text);
      text-decoration: none;
      padding: 8px 10px;
      border-radius: 12px;
      transition: .18s;
      position: relative;
      font-weight: 600;
      font-size: 0.95rem
    }

    .menu a:hover {
      color: white;
      transform: translateY(-2px)
    }

    .menu a::after {
      content: "";
      position: absolute;
      left: 10px;
      right: 10px;
      bottom: 6px;
      height: 2px;
      border-radius: 2px;
      background: linear-gradient(90deg, var(--acc2), var(--acc1));
      opacity: 0;
      transform: scaleX(.3);
      transition: .22s;
    }

    .menu a:hover::after,
    .menu a.active::after {
      opacity: 1;
      transform: scaleX(1);
    }

    /* page layout */
    section {
      padding: 88px 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    /* HERO */
    .hero {
      display: grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 40px;
      align-items: center;
      min-height: 76vh;
    }

    @media (max-width:880px) {
      .hero {
        grid-template-columns: 1fr;
        text-align: center
      }

      .avatar-wrap {
        margin-top: 22px
      }
    }

    .hero h1 {
      font-size: clamp(36px, 6vw, 64px);
      line-height: 1.02;
      margin: 0 0 8px;
      font-weight: 800
    }

    .gradient-text {
      background: linear-gradient(90deg, var(--acc3), var(--acc2), var(--acc1));
      -webkit-background-clip: text;
      color: transparent
    }

    .sub {
      color: var(--muted);
      font-size: clamp(15px, 1.6vw, 18px);
      margin-bottom: 12px
    }

    .cta {
      margin-top: 18px;
      display: flex;
      gap: 12px;
      justify-content: flex-start
    }

    @media (max-width:880px) {
      .cta {
        justify-content: center
      }
    }

    .btn {
      border: none;
      cursor: pointer;
      padding: 12px 16px;
      border-radius: 12px;
      font-weight: 700;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      box-shadow: var(--shadow);
      transition: transform .15s ease
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--acc2), var(--acc1));
      color: white
    }

    .btn-ghost {
      background: rgba(255, 255, 255, 0.04);
      color: var(--text);
      border: 1px solid rgba(255, 255, 255, 0.06)
    }

    .btn:hover {
      transform: translateY(-3px)
    }

    /* Avatar - enlarge by ~1.3x relative to original 220 */
    .avatar-wrap {
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative
    }

    .avatar {
      width: 286px;
      height: 286px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid rgba(255, 255, 255, 0.14);
      box-shadow: 0 30px 50px rgba(0, 0, 0, 0.55);
      animation: float 6s ease-in-out infinite
    }

    .ring {
      position: absolute;
      width: 340px;
      height: 340px;
      border-radius: 50%;
      border: 2px dashed rgba(138, 181, 255, 0.35);
      animation: spin 18s linear infinite
    }

    .bubble {
      position: absolute;
      right: -10px;
      bottom: -18px;
      width: 88px;
      height: 88px;
      border-radius: 18px;
      background: linear-gradient(135deg, var(--acc4), var(--acc2));
      box-shadow: 0 18px 40px rgba(7, 18, 32, 0.6)
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0)
      }

      50% {
        transform: translateY(-12px)
      }
    }

    @keyframes spin {
      to {
        transform: rotate(360deg)
      }
    }

    /* Titles */
    .title {
      font-size: clamp(26px, 3.2vw, 36px);
      margin: 0 0 8px;
      font-weight: 700
      
    }

    .lead {
      color: #d6e3ffcc;
      max-width: 760px;
      margin: 0 auto;
      
  font-size: 1.3em; /* 1.5 times bigger */
  line-height: 1.2; /* better readability */

    }

    /* Skills - bigger chips */
    .skills-wrap {
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
      margin-top: 20px;
      justify-content: center
    }

    .skill {
      padding: 14px 22px;
      border-radius: 999px;
      font-weight: 800;
      letter-spacing: .3px;
      font-size: 1.6rem;
      min-width: 120px;
      text-align: center;
      background: linear-gradient(135deg, #ffffff08, #ffffff06);
      border: 1px solid rgba(255, 255, 255, 0.06);
      box-shadow: 0 12px 30px rgba(3, 11, 27, 0.45);
      color: var(--text);
      transition: transform .18s ease
    }

    .skill:hover {
      transform: scale(1.06);
    }

    /* colorful variants by index */
    .skill:nth-child(5n+1) {
      background: linear-gradient(135deg, #312e81, #1f2937);
      color: #c7d2fe
    }

    .skill:nth-child(5n+2) {
      background: linear-gradient(135deg, #064e3b, #0f766e);
      color: #c8fff3
    }

    .skill:nth-child(5n+3) {
      background: linear-gradient(135deg, #7c2d12, #92400e);
      color: #fff1c2
    }

    .skill:nth-child(5n+4) {
      background: linear-gradient(135deg, #581c87, #6d28d9);
      color: #efe3ff
    }

    .skill:nth-child(5n+5) {
      background: linear-gradient(135deg, #1f2937, #0ea5e9);
      color: #cffafe
    }

    /* Carousel for certificates - shows 3 visible slides */
    .carousel {
      position: relative;
      margin-top: 22px;
    }

    .carousel-viewport {
      overflow: hidden;
    }

    .carousel-track {
      display: flex;
      gap: var(--gap);
      transition: transform .45s cubic-bezier(.22, .9, .36, 1);
      align-items: stretch
    }

    .slide {
      flex: 0 0 auto;
      width: calc((100% - (var(--gap) * 2)) / 3);
    }

    @media (max-width:1100px) {
      .slide {
        width: calc((100% - var(--gap)) / 2);
      }
    }

    @media (max-width:700px) {
      .slide {
        width: 100%;
      }
    }
  

    .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 44px;
      height: 44px;
      border-radius: 10px;
      border: none;
      background: rgba(255, 255, 255, 0.04);
      color: var(--text);
      box-shadow: 0 8px 28px rgba(0, 0, 0, 0.5);
      cursor: pointer;
      z-index: 6
    }

    .carousel-btn:hover {
      transform: translateY(-50%) scale(1.05)
    }

    .carousel-btn.prev {
      left: 8px
    }

    .carousel-btn.next {
      right: 8px
    }

    /* Flip card inside slide (make card slightly taller) */
    .flip {
      perspective: 1200px;
      height: 420px;
      border-radius: 18px
    }

    .flip-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform .8s cubic-bezier(.2, .65, .21, .99)
    }

    .flip:hover .flip-inner {
      transform: rotateY(180deg) scale(1.02)
    }

    .face {
      position: absolute;
      inset: 0;
      border-radius: 16px;
      overflow: hidden;
      backface-visibility: hidden;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45)
    }

    .face.front {
      background-size: cover;
      background-position: center;
      filter: saturate(1.08) contrast(1.02)
    }

    .face.front::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0, 0, 0, 0) 45%, rgba(0, 0, 0, 0.45) 100%)
    }

    .face.back {
      transform: rotateY(180deg);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 28px;
      text-align: center;
      background: linear-gradient(135deg, #071026, #0f1b34)
    }

    .card-title {
      font-size: 1.1rem;
      font-weight: 800;
      color: #f1f5ff
    }

    .card-text {
      color: #cbd5e1;
      margin-top: 8px
    }

    /* contact + footer */
    .contact-card {
      background: linear-gradient(135deg, #0b1220dd, #0f172add);
      border: 1px solid #ffffff14;
      padding: 24px;
      border-radius: 16px
    }

    footer {
      padding: 20px 14px;
      text-align: center;
      opacity: .85
    }

    /* reveal */
    .reveal {
      opacity: 0;
      transform: translateY(12px);
      transition: .7s ease
    }

    .reveal.show {
      opacity: 1;
      transform: none
    }
      @media (max-width: 800px) {
      .brand{
        display: none;
      }
    }
    
  </style>
</head>

<body>
  <canvas id="constellation"></canvas>

  <!-- NAV -->
<nav class="nav">
  <div class="nav-inner">
    <div class="brand">MyPortfolio</div>

    <!-- Hamburger Icon (only visible on mobile) -->
   

    <!-- Menu Links -->
    <div class="menu" id="menu">
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#skills">Skills</a>
      <a href="#contact">Contact</a>
    </div>
  </div>
</nav>


  <!-- HERO -->
  <section id="home">
    <div class="container hero">
      <div>
        <h1 class="reveal">Hi, I'm <span class="gradient-text">Gerald</span></h1>
        <p class="sub reveal">Aspiring Web Developer </p>
        <div class="cta reveal">
          <a class="btn btn-primary" href="files/resume.pdf" target="_blank">View CV</a>
          <a class="btn btn-ghost" href="#certs">View Certificates</a>
        </div>
      </div>
      <div class="avatar-wrapper">
        <div class="avatar-wrapper">
          <img src="pics/ ssa.png" alt="My Photo">
        </div>



      </div>
  </section>

  <!-- ABOUT -->
  <section id="about">
    <div class="container">
      <h2 class="title reveal">About Me</h2>
<p class="lead reveal">
  I build <strong>clean, colorful, and high-performance websites</strong> that combine functionality with great design. 
  I’m currently enhancing my skills in <strong>APIs, Laravel, and frontend animations</strong> to deliver more dynamic 
  and engaging web experiences.
  <br><br>
  <strong>Tech I Work With</strong>
  <br>
  <strong>Frontend:</strong> HTML, CSS, JavaScript
  <br>
  <strong>Backend:</strong> PHP, Laravel (in progress)
  <br>
  <strong>Database:</strong> MySQL
  <br>
  <strong>Others:</strong>C#.net and Asp.Net MVC (Basic CRUD)
  <br><br>
  I enjoy transforming ideas into <strong>practical, user-friendly solutions</strong> while continuously 
  improving my craft.
</p>
<br><br><br><br>

    </div>
  </section>

  <!-- SKILLS -->
  <section id="skills">
    <br><br><br><br>
    <div class="container">
      <h2 class="title reveal">Skills</h2>
      <div class="skills-wrap reveal">
        <span class="skill">Web Development</span>
        <span class="skill">HTML</span>
        <span class="skill">CSS</span>
        <span class="skill">JavaScript</span>
        <span class="skill">PHP</span>
        <span class="skill">Laravel</span>
        <span class="skill">C#.Net Window form</span>
        <span class="skill">Asp.Net MVC(basic CRUD)</span>
        <span class="skill">MySQL</span>
        
        <!-- placeholders you can edit -->
      <span class="skill">Ongoing learning</span>

      </div>
    </div>
  </section>
  <br><br><br><br><br>
  <!-- CERTIFICATES (carousel showing 3 visible) -->
  <section id="certs">
    <div class="container">
      <h2 class="title reveal">Certificates</h2>
      <p class="lead reveal">Hover to view certificate pdf copy, Use navigation arrows to slide.</p>

      <div class="carousel reveal" aria-roledescription="carousel">
        <button class="carousel-btn prev" aria-label="Previous">‹</button>
        <div class="carousel-viewport">
          <div class="carousel-track">
            <!-- Slide 1 -->
            <div class="slide">
              <div class="flip">
                <div class="flip-inner">
                  <div class="face front" style="background-image:url('pics/web.png  ')"></div>
                  <div class="face back">
                    <!-- <div class="card-title">WEB Development Fundamentals</div>
                    <div class="card-text">Mini blog, arrays, CRUD, sessions.</div> -->
                    <br><br><br><br>
                    <a href="files/IBMDesign20250811-30-jh65e6.pdf" target="_blank"
                      style="display:inline-block;padding:8px 16px;font-size:0.95rem;font-weight:600;color:#fff;background:linear-gradient(135deg,#1e3c72,#2a5298);
                   border-radius:8px;text-decoration:none; box-shadow:0 4px 10px rgba(0,0,0,0.2);transition:all 0.3s ease;">
                      View
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <!-- Slide 2 -->
            <div class="slide">
              <div class="flip">
                <div class="flip-inner">
                  <div class="face front" style="background-image:url('pics/js.png')"></div>
                  <div class="face back">
                    <!-- <div class="card-title">JavaScript Basics</div>
                    <div class="card-text">DOM, events, ES6 patterns.</div> -->
                  <br><br><br><br>
                    <a href="files/JavaScriptEssentials1Update20250809-31-uqtxuz.pdf" target="_blank"
                      style="display:inline-block;padding:8px 16px;font-size:0.95rem;font-weight:600;color:#fff;background:linear-gradient(135deg,#1e3c72,#2a5298);
                   border-radius:8px;text-decoration:none; box-shadow:0 4px 10px rgba(0,0,0,0.2);transition:all 0.3s ease;">
                      View
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <!-- Slide 3 -->
            <div class="slide">
              <div class="flip">
                <div class="flip-inner">
                  <div class="face front" style="background-image:url('pics/hr.png')"></div>
                  <div class="face back">
                    <!-- <div class="card-title">HORS OF cODING</div>
                    <div class="card-text">Relational modeling & SQL.</div> -->
                   <br><br><br><br>
                    <a href="files/Second Batch BTFM x AI Ready ASEAN Programme_Certificate.pdf" target="_blank"
                      style="display:inline-block;padding:8px 16px;font-size:0.95rem;font-weight:600;color:#fff;background:linear-gradient(135deg,#1e3c72,#2a5298);
                   border-radius:8px;text-decoration:none; box-shadow:0 4px 10px rgba(0,0,0,0.2);transition:all 0.3s ease;">
                      View
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <!-- Slide 4 (placeholder) -->
            <div class="slide">
              <div class="flip">
                <div class="flip-inner">
                  <div class="face front" style="background-image:url('pics/hac.png')"></div>
                  <div class="face back">
                    <!-- <div class="card-title">Coming Soon</div>
                    <div class="card-text">Add certificate image & details.</div> -->
                   <br><br><br><br>
                    <a href="files/Gerald C. Dimaano.pdf" target="_blank"
                      style="display:inline-block;padding:8px 16px;font-size:0.95rem;font-weight:600;color:#fff;background:linear-gradient(135deg,#1e3c72,#2a5298);
                   border-radius:8px;text-decoration:none; box-shadow:0 4px 10px rgba(0,0,0,0.2);transition:all 0.3s ease;">
                      View
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <!-- Slide 5 (placeholder) -->
            <!-- <div class="slide">
              <div class="flip">
                <div class="flip-inner">
                  <div class="face front"
                    style="background-color:#332; display:flex; align-items:center; justify-content:center; color:#fff">
                    +</div>
                  <div class="face back">
                    <div class="card-title">Add More</div>
                    <div class="card-text">You can replace this with your PDF or image.</div>
                  </div>
                </div>
              </div>
            </div> -->

          </div>
        </div>
        <button class="carousel-btn next" aria-label="Next">›</button>
      </div>

    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact">
    <br><br><br><br><br>
    <div class="container">
      <h2 class="title reveal">Contact</h2>
      <p class="lead reveal">Let’s build something colorful together ✨</p>
      <div style="margin-top:12px"><a class="btn btn-primary">juancalque@email.com</a></div>
      <div style="margin-top:12px"><a class="btn btn-primary" >dlareg.onaamid@email.com</a></div>
    </div>
    <br><br><br><br><br>
  </section>

  <footer>© 2025 Gerald Dimaano</footer>

  <script>
    /* =========== Active link on scroll =========== */
    const sections = [...document.querySelectorAll('section')];
    const links = [...document.querySelectorAll('.menu a')];
    const obs = new IntersectionObserver(es => { es.forEach(e => { if (e.isIntersecting) { links.forEach(a => a.classList.toggle('active', a.getAttribute('href') === '#' + e.target.id)); } }) }, { threshold: .55 });
    sections.forEach(s => obs.observe(s));

    /* =========== Reveal on scroll =========== */
    const ro = new IntersectionObserver(es => { es.forEach(e => { if (e.isIntersecting) { e.target.classList.add('show'); ro.unobserve(e.target); } }) }, { threshold: .12 });
    document.querySelectorAll('.reveal').forEach(el => ro.observe(el));

    /* =========== Particle constellation =========== */
    const c = document.getElementById('constellation'), ctx = c.getContext('2d'); let w, h, dpr, ps, mouse;
    function resize() { dpr = Math.min(window.devicePixelRatio || 1, 2); w = c.width = Math.floor(innerWidth * dpr); h = c.height = Math.floor(innerHeight * dpr); c.style.width = innerWidth + 'px'; c.style.height = innerHeight + 'px'; }
    window.addEventListener('resize', resize); resize();
    const rand = (a, b) => Math.random() * (b - a) + a;
    function initParticles() { const density = Math.max(60, Math.floor((innerWidth * innerHeight) / 150000)); ps = Array.from({ length: density }).map(() => ({ x: Math.random() * w, y: Math.random() * h, vx: rand(-.12, .12) * dpr, vy: rand(-.12, .12) * dpr, r: rand(1, 2.2) * dpr, hue: rand(180, 320) })); mouse = { x: -9999, y: -9999, active: false }; }
    initParticles();
    c.addEventListener('mousemove', e => { const r = c.getBoundingClientRect(); mouse.x = (e.clientX - r.left) * dpr; mouse.y = (e.clientY - r.top) * dpr; mouse.active = true });
    c.addEventListener('mouseleave', () => { mouse.active = false; mouse.x = mouse.y = -9999 });
    function step() {
      ctx.clearRect(0, 0, w, h); const linkDist = 110 * dpr; for (let p of ps) { p.x += p.vx; p.y += p.vy; if (p.x < 0 || p.x > w) p.vx *= -1; if (p.y < 0 || p.y > h) p.vy *= -1; if (mouse.active) { const dx = p.x - mouse.x, dy = p.y - mouse.y, d2 = dx * dx + dy * dy, rad = (140 * dpr), r2 = rad * rad; if (d2 < r2) { const f = (r2 - d2) / r2; const m = Math.sqrt(d2 + 0.0001); p.vx += (dx / m) * 0.06 * f; p.vy += (dy / m) * 0.06 * f; } } }
      // lines
      ctx.lineWidth = 0.9 * dpr; ctx.lineCap = 'round';
      for (let i = 0; i < ps.length; i++) { for (let j = i + 1; j < ps.length; j++) { const a = ps[i], b = ps[j], dx = a.x - b.x, dy = a.y - b.y, dist = Math.hypot(dx, dy); if (dist < linkDist) { const alpha = 1 - (dist / linkDist); ctx.strokeStyle = `rgba(140,180,255,${0.18 * alpha})`; ctx.beginPath(); ctx.moveTo(a.x, a.y); ctx.lineTo(b.x, b.y); ctx.stroke(); } } }
      // particles
      for (const p of ps) { const g = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 6 * dpr); g.addColorStop(0, `hsla(${p.hue},90%,70%,.95)`); g.addColorStop(1, `hsla(${p.hue},90%,50%,0)`); ctx.fillStyle = g; ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2); ctx.fill(); }
      requestAnimationFrame(step);
    }
    requestAnimationFrame(step);

    /* =========== Carousel logic (3 visible) =========== */
    (function () {
      const carousel = document.querySelector('.carousel');
      if (!carousel) return;
      const track = carousel.querySelector('.carousel-track');
      const slides = [...track.children];
      const prevBtn = carousel.querySelector('.carousel-btn.prev');
      const nextBtn = carousel.querySelector('.carousel-btn.next');
      let visible = 3;
      const gap = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--gap')) || 24;
      function calcVisible() { const vw = window.innerWidth; if (vw < 700) visible = 1; else if (vw < 1100) visible = 2; else visible = 3; }
      function layout() {
        calcVisible(); const viewport = carousel.querySelector('.carousel-viewport'); const avail = viewport.clientWidth; const slideW = Math.floor((avail - (gap * (visible - 1))) / visible);
        slides.forEach(s => { s.style.width = slideW + 'px'; });
        // reset to ensure index bounds
        if (current > slides.length - visible) current = Math.max(0, slides.length - visible);
        moveTo(current);
      }
      let current = 0;
      function moveTo(index) { const viewport = carousel.querySelector('.carousel-viewport'); const slideW = slides[0].getBoundingClientRect().width; const tx = index * (slideW + gap); track.style.transform = `translateX(-${tx}px)`; prevBtn.disabled = index <= 0; nextBtn.disabled = index >= slides.length - visible; }
      prevBtn.addEventListener('click', () => { current = Math.max(0, current - 1); moveTo(current); });
      nextBtn.addEventListener('click', () => { current = Math.min(slides.length - visible, current + 1); moveTo(current); });
      window.addEventListener('resize', layout);
      // initial layout after fonts load
      window.addEventListener('load', () => setTimeout(layout, 120));
    })();

  </script>
</body>

</html>